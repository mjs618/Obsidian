

---

## 🚀 基础操作

| 命令             | 说明                      |
|------------------|---------------------------|
| `i`             | 进入插入模式 (insert)     |
| `Esc`           | 返回普通模式 (normal)     |
| `:w`           | 保存文件                  |
| `:q`           | 退出 Vim                  |
| `:wq` 或 `ZZ`  | 保存并退出                |
| `:q!`          | 不保存强制退出            |
| `u`            | 撤销 (undo)               |
| `Ctrl + r`     | 重做 (redo)               |
| `:help <cmd>`  | 查看帮助                  |

---

## 🏃‍♂️ 光标移动

| 命令          | 说明                        |
|---------------|-----------------------------|
| `h` `j` `k` `l` | 左 下 上 右                |
| `w`           | 跳到下个单词开头            |
| `b`           | 跳到上个单词开头            |
| `e`           | 跳到单词结尾                |
| `0`           | 跳到行首                    |
| `^`           | 跳到行首第一个非空字符      |
| `$`           | 跳到行尾                    |
| `gg`          | 跳到文件开头                |
| `G`           | 跳到文件结尾                |
| `:<num>`      | 跳到指定行                  |

### 🔧 高级光标移动

| 命令             | 说明                          |
|------------------|-------------------------------|
| `H`             | 跳到屏幕顶部                   |
| `M`             | 跳到屏幕中间                   |
| `L`             | 跳到屏幕底部                   |
| `Ctrl + u`      | 向上翻半页                    |
| `Ctrl + d`      | 向下翻半页                    |
| `Ctrl + b`      | 向上翻整页                    |
| `Ctrl + f`      | 向下翻整页                    |
| `f<char>`       | 跳到字符 char                 |
| `F<char>`       | 向前跳到字符 char             |
| `t<char>`       | 跳到字符 char 前一个位置     |
| `T<char>`       | 向前跳到字符 char 后一个位置 |
| `;`             | 重复上次 f/F/t/T 命令         |
| `,`             | 反向重复上次 f/F/t/T 命令     |
| `%`             | 跳到匹配的括号                |
| `*`             | 向下查找光标下的单词          |
| `#`             | 向上查找光标下的单词          |
| `{`             | 跳到上一段落                  |
| `}`             | 跳到下一段落                  |
| `(`             | 跳到句首                      |
| `)`             | 跳到句尾                      |

---

## 📝 编辑操作

| 命令           | 说明                          |
|----------------|-------------------------------|
| `x`           | 删除光标下字符                |
| `dd`          | 删除当前行                    |
| `yy`          | 复制当前行                    |
| `p`           | 粘贴到光标后                  |
| `P`           | 粘贴到光标前                  |
| `dw`          | 删除到单词末尾                |
| `d$`          | 删除到行尾                    |
| `cw`          | 替换单词（删除并进入插入模式）|
| `r<char>`     | 替换当前字符                  |
| `~`           | 切换大小写                    |

### 🔧 高级编辑操作

| 命令              | 说明                              |
|-------------------|-----------------------------------|
| `D`              | 删除到行尾                         |
| `C`              | 修改到行尾（删除并进入插入模式）   |
| `s`              | 删除字符并进入插入模式             |
| `S`              | 删除整行并进入插入模式             |
| `J`              | 合并当前行和下一行                 |
| `cc`             | 修改整行                           |
| `ciw`            | 修改当前单词                       |
| `caw`            | 修改当前单词（包含空格）           |
| `diw`            | 删除当前单词                       |
| `daw`            | 删除当前单词（包含空格）           |
| `yiw`            | 复制当前单词                       |
| `yaw`            | 复制当前单词（包含空格）           |
| `>>`             | 缩进行（向右）                    |
| `<<`             | 反缩进行（向左）                  |
| `Ctrl + a`       | 增加数字                          |
| `Ctrl + x`       | 减少数字                          |
| `.`              | 重复上次操作                       |

---

## 🔍 查找与替换

| 命令                | 说明                          |
|---------------------|-------------------------------|
| `/word`            | 向下查找 word                 |
| `?word`            | 向上查找 word                 |
| `n` / `N`          | 下一个 / 上一个匹配           |
| `:%s/old/new/g`    | 全文替换 old → new            |
| `:s/old/new/g`     | 当前行替换 old → new          |

### 🔧 高级查找与替换

| 命令                          | 说明                                  |
|-------------------------------|---------------------------------------|
| `/word\c`                   | 不区分大小写查找 word                 |
| `/word\C`                   | 区分大小写查找 word                   |
| `*`                          | 向下查找光标下的单词                  |
| `#`                          | 向上查找光标下的单词                  |
| `:%s/old/new/gc`             | 全文替换，每次替换前确认              |
| `:%s/old/new/gi`             | 全文替换，忽略大小写                  |
| `:%s/old/new/n`              | 统计匹配数量，不替换                  |
| `:%s/old/new/ge`             | 替换时忽略错误                        |
| `:%s/\<old\>/new/g`        | 只替换完整单词                        |
| `:%s/old/new/gc | copen`     | 替换并打开确认窗口                    |
| `:vimgrep /pattern/ **/*.txt`| 在文件中查找                          |
| `:cn` / `:cp`                | 下一个 / 上一个查找结果               |
| `:copen`                     | 打开查找结果窗口                      |
| `:nohlsearch`                | 清除查找高亮                          |

---

## 📦 多文件与缓冲区

| 命令            | 说明                        |
|-----------------|-----------------------------|
| `:e <file>`    | 打开文件                    |
| `:bn` / `:bp`  | 下一个 / 上一个缓冲区       |
| `:bd`          | 关闭当前缓冲区              |
| `:ls` 或 `:buffers` | 列出缓冲区              |

### 🔧 高级多文件操作

| 命令                  | 说明                              |
|-----------------------|-----------------------------------|
| `:e!`                | 重新加载文件（放弃更改）          |
| `:wa`                | 保存所有文件                      |
| `:qa`                | 关闭所有文件                      |
| `:wqa`               | 保存并关闭所有文件                |
| `:xa`                | 保存并关闭所有文件（简写）        |
| `:tabe <file>`       | 在新标签页打开文件                |
| `:tabn` / `:tabp`    | 下一个 / 上一个标签页             |
| `:tabc`              | 关闭当前标签页                    |
| `:tabo`              | 关闭其他标签页                    |
| `:vsp <file>`        | 垂直分割窗口打开文件              |
| `:sp <file>`         | 水平分割窗口打开文件              |
| `Ctrl + w + w`       | 在窗口间切换                      |
| `Ctrl + w + q`       | 关闭当前窗口                      |
| `Ctrl + w + v`       | 垂直分割当前窗口                  |
| `Ctrl + w + s`       | 水平分割当前窗口                  |
| `:b <num>`           | 切换到指定编号的缓冲区            |
| `:b <part_of_name>`  | 根据名称切换到缓冲区              |
| `:bdelete <num>`     | 删除指定编号的缓冲区              |

---

## 🛠️ 可视模式

| 命令            | 说明                          |
|-----------------|-------------------------------|
| `v`           | 进入字符可视模式               |
| `V`           | 进入行可视模式                 |
| `Ctrl + v`    | 进入块可视模式（列选择）       |
| `y`           | 在可视模式复制                 |
| `d`           | 在可视模式剪切                 |

### 🔧 高级可视模式技巧

| 命令            | 说明                          |
|-----------------|-------------------------------|
| `o`           | 在可视模式中切换选择方向       |
| `O`           | 在块可视模式中切换列方向       |
| `gv`          | 重新选择上次选择的内容         |
| `>`           | 在可视模式中缩进选中内容       |
| `<`           | 在可视模式中反缩进选中内容     |
| `J`           | 在可视模式中合并选中行         |
| `c`           | 在可视模式中修改选中内容       |
| `r<char>`     | 在可视模式中替换选中字符       |
| `~`           | 在可视模式中切换大小写         |
| `u`           | 在可视模式中转为小写           |
| `U`           | 在可视模式中转为大写           |
| `I`           | 在块可视模式中在每行前插入     |
| `A`           | 在块可视模式中在每行后追加     |

---

## 🌟 高级技巧

| 命令                  | 说明                          |
|-----------------------|-------------------------------|
| `:set number`        | 显示行号                     |
| `:set relativenumber`| 显示相对行号                 |
| `:syntax on`         | 开启语法高亮                 |
| `.vimrc`             | 配置文件                     |

### 🔧 更多配置选项

| 命令                            | 说明                          |
|---------------------------------|-------------------------------|
| `:set autoindent`              | 自动缩进                      |
| `:set smartindent`             | 智能缩进                      |
| `:set tabstop=4`               | 设置制表符宽度为 4            |
| `:set shiftwidth=4`            | 设置自动缩进宽度为 4          |
| `:set expandtab`               | 将制表符转换为空格            |
| `:set nowrap`                  | 禁止自动换行                  |
| `:set wrap`                    | 允许自动换行                  |
| `:set linebreak`               | 在单词边界处换行              |
| `:set showmatch`               | 显示匹配的括号                |
| `:set hlsearch`                | 高亮搜索结果                  |
| `:set incsearch`               | 增量搜索                      |
| `:set ignorecase`              | 搜索时忽略大小写              |
| `:set smartcase`               | 智能大小写匹配                |
| `:set backspace=indent,eol,start`| 设置退格键行为              |
| `:set wildmenu`                | 命令行补全菜单                |
| `:set ruler`                   | 显示光标位置                  |
| `:set laststatus=2`            | 总是显示状态栏                |
| `:set mouse=a`                 | 启用鼠标支持                  |
| `:set encoding=utf-8`          | 设置编码为 UTF-8              |
| `:set fileformat=unix`         | 设置文件格式为 Unix           |

### 📁 实用命令

| 命令                  | 说明                          |
|-----------------------|-------------------------------|
| `:earlier 10m`       | 回到 10 分钟前的文件状态      |
| `:later 10m`         | 前进到 10 分钟后的文件状态    |
| `:changes`           | 查看更改列表                  |
| `:undolist`          | 查看撤销列表                  |
| `:diffsplit <file>`  | 分割窗口并比较文件差异        |
| `:set spell`         | 启用拼写检查                  |
| `:set spelllang=en`  | 设置拼写检查语言              |
| `:!command`          | 执行外部命令                  |
| `:r !command`        | 将外部命令输出插入到文件      |
| `:w !sudo tee %`     | 以 sudo 权限保存文件          |

---

## 📋 寄存器与剪贴板操作

| 命令                  | 说明                          |
|-----------------------|-------------------------------|
| `:reg`               | 查看所有寄存器内容             |
| `"ayy`              | 复制当前行到寄存器 a           |
| `"ap`               | 从寄存器 a 粘贴                |
| `"+yy`              | 复制当前行到系统剪贴板         |
| `"+p`               | 从系统剪贴板粘贴               |
| `"*yy`              | 复制当前行到选择寄存器         |
| `"*p`               | 从选择寄存器粘贴               |
| `"0p`               | 粘贴最后一次复制的内容         |
| `"_d`               | 删除内容但不保存到寄存器       |
| `:let @a="text"`   | 设置寄存器 a 的内容为 text     |
| `Ctrl + r a`         | 在插入模式下插入寄存器 a 内容  |
| `:put a`             | 在当前行后粘贴寄存器 a 内容    |

### 🔧 寄存器类型

- `"`  - 无名寄存器（默认）
- `0`  - 最后一次复制的内容
- `1-9`- 最近删除的内容（数字寄存器）
- `a-z`- 命名寄存器
- `+`  - 系统剪贴板寄存器
- `*`  - 选择寄存器
- `_`  - 黑洞寄存器（删除但不保存）
- `:`  - 命令行寄存器
- `/`  - 搜索寄存器

---

## 🤖 宏与自动化

| 命令                  | 说明                          |
|-----------------------|-------------------------------|
| `qa`                | 开始录制宏到寄存器 a           |
| `q`                 | 停止录制宏                     |
| `@a`                | 执行寄存器 a 中的宏            |
| `@@`                | 重复上次执行的宏               |
| `5@a`               | 执行寄存器 a 中的宏 5 次       |
| `:reg a`            | 查看寄存器 a 的内容            |
| `"ap`              | 粘贴寄存器 a 的内容进行编辑    |
| `:put a`            | 在当前行后粘贴宏内容           |

### 🔧 宏使用技巧

1. **录制宏**：
   - 将光标放在要开始录制的位置
   - 按 `qa` 开始录制到寄存器 a
   - 执行所需的操作
   - 按 `q` 停止录制

2. **执行宏**：
   - 按 `@a` 执行寄存器 a 中的宏
   - 按 `@@` 重复上次执行的宏
   - 在宏前加数字可重复执行多次

3. **编辑宏**：
   - 使用 `:reg a` 查看宏内容
   - 使用 `"ap` 粘贴宏内容进行编辑
   - 重新录制以更新宏

4. **实用示例**：
   - 录制格式化一行文本的宏
   - 录制添加注释的宏
   - 录制批量修改变量名的宏

---

## 🧭 导航增强：标记与折叠

### 🔖 标记（Marks）

| 命令          | 说明                          |
|---------------|-------------------------------|
| `ma`         | 在当前位置设置标记 a           |
| `'a`         | 跳转到标记 a                  |
| `` `a ``     | 跳转到标记 a 的精确位置        |
| `:marks`     | 列出所有标记                  |
| `:delmarks a`| 删除标记 a                    |
| `:delmarks!` | 删除所有标记                  |
| `''`         | 跳转回上次跳转前的位置        |
| `` `` ``     | 跳转回上次编辑的位置          |

### 📂 折叠（Folding）

| 命令          | 说明                          |
|---------------|-------------------------------|
| `zf`         | 创建折叠                      |
| `zo`         | 打开折叠                      |
| `zc`         | 关闭折叠                      |
| `za`         | 切换折叠开关                  |
| `zR`         | 打开所有折叠                  |
| `zM`         | 关闭所有折叠                  |
| `zj`         | 跳转到下一个折叠              |
| `zk`         | 跳转到上一个折叠              |
| `zd`         | 删除折叠                      |
| `zE`         | 删除所有折叠                  |

### 🔧 折叠方法

- `:set foldmethod=manual`   - 手动折叠
- `:set foldmethod=indent`   - 基于缩进的折叠
- `:set foldmethod=syntax`   - 基于语法的折叠
- `:set foldmethod=marker`   - 基于标记的折叠

---

